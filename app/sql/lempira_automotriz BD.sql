-- phpMyAdmin SQL Dump
-- version 5.1.0
-- https://www.phpmyadmin.net/
--
-- Servidor: 127.0.0.1
-- Tiempo de generación: 28-06-2021 a las 05:41:14
-- Versión del servidor: 10.4.19-MariaDB
-- Versión de PHP: 8.0.6

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Base de datos: `lempira_automotriz`
--

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `auto`
--

CREATE TABLE `auto` (
  `ID_AUTO` int(11) NOT NULL COMMENT 'CAMPO USADO COMO LLAVE PRIMARIA',
  `ID_MARCA` int(11) DEFAULT NULL COMMENT 'CAMPO USADO COMO LLAVE FORANEA DE LA TABLA MARCA',
  `ID_MODELO` int(11) DEFAULT NULL COMMENT 'CAMPO USADO COMO LLAVE FORANEA DE LA TABLA MODELO',
  `ID_COLORAUTO` int(11) DEFAULT NULL COMMENT 'CAMPO USADO COMO LLAVE FORANEA DE LA TABLA COLOR AUTO',
  `PRECIO` double DEFAULT NULL COMMENT 'CAMPO USADO PARA GUARDAR EL PRECIO DEL AUTO',
  `AÑO_AUTO` int(11) DEFAULT NULL COMMENT 'CAMPO USADO PARA GUARDAR EL AÑO DEL AUTO',
  `ID_TIPOAUTO` int(11) DEFAULT NULL COMMENT 'CAMPO USADO COMO LLAVE FORANEA DE LA TABLA TIPO_AUTO',
  `NUMERO_CHASIS` varchar(30) DEFAULT NULL COMMENT 'CAMPO USADO PARA GUARDAR EL NUMERO DE CHASIS DEL AUTO',
  `MOTOR_SERIE` varchar(45) DEFAULT NULL COMMENT 'CAMPO USADO PARA GUARDAR LA SERIE DEL MOTOR DEL AUTO',
  `ID_USOAUTO` int(11) DEFAULT NULL COMMENT 'CAMPO USADO COMO LLAVE FORANEA DE LA TABLA USO AUTO',
  `IMAGEN_AUTO` longblob DEFAULT NULL COMMENT 'CAMPO USADO PARA GUARDAR LA IMAGEN DEL AUTO',
  `KILOMETRAJE` varchar(10) DEFAULT NULL COMMENT 'CAMPO USADO PARA GUARDAR EL KILOMETRAJE DEL AUTO',
  `TRANSMISION` varchar(45) DEFAULT NULL COMMENT 'CAMPO USADO PARA GUARDAR LA TRANSMISION DEL AUTO',
  `CILINDRAJE` int(11) DEFAULT NULL COMMENT 'CAMPO USADO PARA GUARDAR EL CILINDRAJE DEL AUTO',
  `POTENCIA` double DEFAULT NULL COMMENT 'CAMPO USADO PARA GUARDAR LA POTENCIA DEL AUTO',
  `TRACCION` varchar(45) DEFAULT NULL COMMENT 'CAMPO USADO PARA GUARDAR LA TRACCION DEL AUTO',
  `DESCRIPCION_COMBUSTIBLE` varchar(30) DEFAULT NULL COMMENT 'CAMPO USADO PARA GUARDAR LA DESCRIPCION DE COMBUSTIBLE DEL AUTO',
  `ESTADO_AUTO` tinyint(1) DEFAULT NULL COMMENT 'CAMPO USADO PARA GUARDAR EL ESTADO DEL AUTO'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Volcado de datos para la tabla `auto`
--

INSERT INTO `auto` (`ID_AUTO`, `ID_MARCA`, `ID_MODELO`, `ID_COLORAUTO`, `PRECIO`, `AÑO_AUTO`, `ID_TIPOAUTO`, `NUMERO_CHASIS`, `MOTOR_SERIE`, `ID_USOAUTO`, `IMAGEN_AUTO`, `KILOMETRAJE`, `TRANSMISION`, `CILINDRAJE`, `POTENCIA`, `TRACCION`, `DESCRIPCION_COMBUSTIBLE`, `ESTADO_AUTO`) VALUES
(1, 1, 15, 1, 100, 2020, 4, '1', '1001', 1, NULL, '0', 'Automática', 4, 0, 'Delanterea', 'Gasolina', 1);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `colorauto`
--

CREATE TABLE `colorauto` (
  `ID_COLORAUTO` int(11) NOT NULL COMMENT 'CAMPO USADO COMO LLAVE PRIMARIA',
  `DESCRIPCION` varchar(30) DEFAULT NULL COMMENT 'CAMPO USADO PARA GUARDAR LA DESCRIPCION DEL COLORAUTO'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Volcado de datos para la tabla `colorauto`
--

INSERT INTO `colorauto` (`ID_COLORAUTO`, `DESCRIPCION`) VALUES
(1, 'Azul'),
(2, 'Verde'),
(3, 'Gris'),
(4, 'Rojo'),
(5, 'Amarillo'),
(6, 'Café'),
(7, 'Negro'),
(8, 'Morado'),
(9, 'Anaranjado'),
(10, 'Rosado');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `compras`
--

CREATE TABLE `compras` (
  `ID_COMPRAS` int(11) NOT NULL COMMENT 'CAMPO USADO COMO LLAVE PRIMARIA',
  `ID_AUTO` int(11) NOT NULL COMMENT 'CAMPO USADO COMO LLAVE PRIMARIA Y LLAVE FORANEA DE LA TABLA AUTO',
  `ID_PROVEEDOR` int(11) DEFAULT NULL COMMENT 'CAMPO USADO COMO LLAVE FORANEA DE LA TABLA PROVEEDOR'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Volcado de datos para la tabla `compras`
--

INSERT INTO `compras` (`ID_COMPRAS`, `ID_AUTO`, `ID_PROVEEDOR`) VALUES
(1, 1, 1);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `detallefactura`
--

CREATE TABLE `detallefactura` (
  `ID_DETALLEFACTURA` int(11) NOT NULL COMMENT 'ÍNDICE DE LA TABLA DETALLE FACTURA',
  `PRECIO` double DEFAULT NULL COMMENT 'SE MUESTRA EL PRECIO DEL VEHÍCULO',
  `CANTIDAD` int(11) DEFAULT NULL COMMENT 'SE MUESTRA LA CANTIDAD DE VEHICULOS QUE LLEVARÁ EL CLIENTE',
  `ID_AUTO` int(11) NOT NULL COMMENT 'SE IDENTIFICA EL AUTO QUE SE ESTÁ VENDIENDO',
  `ID_VENTAS` int(11) NOT NULL COMMENT 'SE IDENTIFICA LA VENTA QUE SE AGREGA A LA FACTURA',
  `FECHA_FACTURA` date DEFAULT NULL COMMENT 'ESPACIO PARA REGISTRAR LA FECHA DE LA FACTUAR'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Volcado de datos para la tabla `detallefactura`
--

INSERT INTO `detallefactura` (`ID_DETALLEFACTURA`, `PRECIO`, `CANTIDAD`, `ID_AUTO`, `ID_VENTAS`, `FECHA_FACTURA`) VALUES
(2, 115000, 1, 1, 1, '2021-06-25');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `estadocivil`
--

CREATE TABLE `estadocivil` (
  `ID_ESTADOCIVIL` int(11) NOT NULL COMMENT 'ÍNDICE DEL ESTADO CIVIL DEL USUARIO',
  `NOMBRE` varchar(10) DEFAULT NULL COMMENT 'CASAD@ O SOLTER@'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Volcado de datos para la tabla `estadocivil`
--

INSERT INTO `estadocivil` (`ID_ESTADOCIVIL`, `NOMBRE`) VALUES
(1, 'Soltero'),
(2, 'Casado'),
(3, 'Divorciado'),
(4, 'Viudo');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `inventario`
--

CREATE TABLE `inventario` (
  `ID_AUTO` int(11) NOT NULL COMMENT 'CAMPO USADO COMO LLAVE PRIMARIA Y LLAVE FORANEA DE LA TABLA AUTO',
  `ID_COMPRAS` int(11) DEFAULT NULL COMMENT 'CAMPO USADO COMO LLAVE FORANEA DE LA TABLA COMPRAS',
  `ID_VENTAS` int(11) NOT NULL COMMENT 'CAMPO USADO COMO LLAVE PRIMARIA Y LLAVE FORANEA DE LA TABLA VENTAS',
  `FECHA_REGISTRO` date DEFAULT NULL COMMENT 'CAMPO USADO PARA GUARDAR LA FECHA DEL REGISTRO'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Volcado de datos para la tabla `inventario`
--

INSERT INTO `inventario` (`ID_AUTO`, `ID_COMPRAS`, `ID_VENTAS`, `FECHA_REGISTRO`) VALUES
(1, 1, 1, '2021-06-25');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `marca`
--

CREATE TABLE `marca` (
  `ID_MARCA` int(11) NOT NULL COMMENT 'CAMPO USADO COMO LLAVE PRIMARIA',
  `DESCRIPCION` varchar(30) DEFAULT NULL COMMENT 'CAMPO USADO PARA GUARDAR LA DESCRIPCION DE LA MARCA'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Volcado de datos para la tabla `marca`
--

INSERT INTO `marca` (`ID_MARCA`, `DESCRIPCION`) VALUES
(1, 'Ford'),
(2, 'Honda'),
(3, 'Toyota'),
(4, 'Isuzu'),
(5, 'Kia'),
(6, 'Lamborghini'),
(7, 'Bugatti'),
(8, 'BMW'),
(9, 'Mercedes-Benz'),
(10, 'Audi'),
(11, 'Chevrolet'),
(12, 'Ferrari '),
(13, 'Hyundai'),
(14, 'Jeep'),
(15, 'Land Rover'),
(16, 'Maserati'),
(17, 'Mazda'),
(18, 'Mitsubishi'),
(19, 'Nissan'),
(20, 'Porshe'),
(21, 'Renault'),
(22, 'Rolls-Royce'),
(23, 'Suzuki'),
(24, 'Tesla'),
(25, 'Volkswagen'),
(26, 'Volvo');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `modelo`
--

CREATE TABLE `modelo` (
  `ID_MODELO` int(11) NOT NULL COMMENT 'CAMPO USADO COMO LLAVE PRIMARIA',
  `DESCRIPCION` varchar(30) DEFAULT NULL COMMENT 'CAMPO USADO PARA GUARDAR LA DESCRIPCION DEL MODELO',
  `ID_MARCA` int(11) DEFAULT NULL COMMENT 'CAMPO USADO COMO LLAVE FORANEA DE LA TABLA MARCA'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Volcado de datos para la tabla `modelo`
--

INSERT INTO `modelo` (`ID_MODELO`, `DESCRIPCION`, `ID_MARCA`) VALUES
(1, 'A6', 10),
(2, 'R8', 10),
(3, 'S7', 10),
(4, 'Serie 6', 8),
(5, 'Z4', 8),
(6, 'X3', 8),
(7, 'Type 35', 7),
(8, 'Chiron Sport ', 7),
(9, 'Camaro', 11),
(10, 'Aveo', 11),
(11, 'Orlando', 11),
(12, '488 GTB', 12),
(13, 'California T', 12),
(14, '812 Superfast', 12),
(15, 'Escape', 1),
(16, 'Focus', 1),
(17, 'Explorer', 1),
(18, 'F150', 1),
(19, 'Fiesta', 1),
(20, 'Mustang', 1),
(21, 'Ranger', 1),
(22, 'Civic', 2),
(23, 'Accord', 2),
(24, 'Cr-V', 2),
(25, 'Pilot', 2),
(26, 'Accent', 13),
(27, 'Santa Fe', 13),
(28, 'Tucson', 13),
(29, 'Npr', 4),
(30, 'Rodeo', 4),
(31, 'Trooper', 4);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `persona`
--

CREATE TABLE `persona` (
  `ID_PERSONA` int(11) NOT NULL COMMENT 'INDICE DE LA TABLA PERSONA',
  `NOMBRE` varchar(45) DEFAULT NULL COMMENT 'CAMPO PARA NOMBRE DE PERSONA',
  `CORREO` varchar(30) DEFAULT NULL COMMENT 'CAMPO PARA GUARDAR EL CORREO, FUNCIONARÁ COMO NOMBRE DE USUARIO TAMBIÉN',
  `ID_ESTADOCIVIL` int(11) DEFAULT NULL COMMENT 'LLAVE FORANEA DEL ESTADO CIVIL',
  `ID_SEXO` int(11) DEFAULT NULL COMMENT 'CAMPO PARA DETERMINAR EL SEXO DEL USUARIO',
  `FECHA_NACIMIENTO` date DEFAULT NULL COMMENT 'CAMPO QUE DETERMINA LA EDAD DE LA PERSONA',
  `FECHA_REGISTRO` date DEFAULT NULL COMMENT 'SE REGISTRA LA FECHA EN LA QUE EL USUARIO SE REGISTRÓ',
  `TELEFONO_CELULAR` varchar(15) DEFAULT NULL COMMENT 'CAMPO QUE ALMACENA EL NÚMERO DE CELULAR DEL USUARIO',
  `TELEFONO_FIJO` varchar(15) DEFAULT NULL COMMENT 'CAMPO PARA EL TELÉFONO FIJO NO ES OBLIGATORIO',
  `DIRECCION` varchar(50) DEFAULT NULL COMMENT 'CAMPO PARA LA DIRECCION DEL USUARIO',
  `NO_IDENTIDAD` varchar(45) DEFAULT NULL COMMENT 'SE REGISTRA EL NÚMERO DE IDENTIDAD O PASAPORTE DEL USUARIO',
  `ESTADO` tinyint(1) DEFAULT NULL COMMENT 'SE IDENTIFICA SI EL USUARIO SE ENCUENTRA ACTIVO',
  `ID_ROL` int(11) NOT NULL COMMENT 'SE DEFINE EL ROL QUE TENDRÁ EL USUARIO EN LA BASE DE DATOS',
  `CONTRASEÑA` varchar(200) DEFAULT NULL COMMENT 'SE GUARDA LA CONTRASEÑA PARA QUE EL USUARIO INGRESE'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Volcado de datos para la tabla `persona`
--

INSERT INTO `persona` (`ID_PERSONA`, `NOMBRE`, `CORREO`, `ID_ESTADOCIVIL`, `ID_SEXO`, `FECHA_NACIMIENTO`, `FECHA_REGISTRO`, `TELEFONO_CELULAR`, `TELEFONO_FIJO`, `DIRECCION`, `NO_IDENTIDAD`, `ESTADO`, `ID_ROL`, `CONTRASEÑA`) VALUES
(1, 'Admin', 'admin@unah.hn', 1, 1, '2011-06-09', '2021-06-25', '9876-9876', NULL, 'La Poderosisima UNAH', '0808080808080', 1, 2, '1234');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `proveedor`
--

CREATE TABLE `proveedor` (
  `ID_PROVEEDOR` int(11) NOT NULL COMMENT 'CAMPO USADO COMO LLAVE PRIMARIA',
  `NOMBRE_PROVEEDOR` varchar(45) DEFAULT NULL COMMENT 'CAMPO USADO PARA GUARDAR EL NOMBRE DEL PROVEEDOR',
  `NOMBRE_MARCA` varchar(30) DEFAULT NULL COMMENT 'CAMPO USADO PARA GUARDAR EL NOMBRE DE LA MARCA DEL PROVEEDOR',
  `DIRECCION` varchar(50) DEFAULT NULL COMMENT 'CAMPO USADO PARA GUARDAR LA DIRECCION DEL PROVEEDOR',
  `TELEFONO_PROVEEDOR` varchar(15) DEFAULT NULL COMMENT 'CAMPO USADO PARA GUARDAR EL TELEFONO DEL PROVEEDOR',
  `CORREO_PROVEEDOR` varchar(30) DEFAULT NULL COMMENT 'CAMPO USADO PARA GUARDAR EL CORREO DEL PROVEEDOR'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Volcado de datos para la tabla `proveedor`
--

INSERT INTO `proveedor` (`ID_PROVEEDOR`, `NOMBRE_PROVEEDOR`, `NOMBRE_MARCA`, `DIRECCION`, `TELEFONO_PROVEEDOR`, `CORREO_PROVEEDOR`) VALUES
(1, 'Pepito carros', 'Ford', 'EEUU', '90909090', 'proveedordeford@ford.com');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `proveedor_auto`
--

CREATE TABLE `proveedor_auto` (
  `ID_PROVEEDOR` int(11) NOT NULL COMMENT 'CAMPO USADO COMO LLAVE PRIMARIA',
  `ID_AUTO` int(11) NOT NULL COMMENT 'CAMPO USADO COMO LLAVE FORANEA DE LA TABLA AUTO'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Volcado de datos para la tabla `proveedor_auto`
--

INSERT INTO `proveedor_auto` (`ID_PROVEEDOR`, `ID_AUTO`) VALUES
(1, 1);

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `roles`
--

CREATE TABLE `roles` (
  `ID_ROLE` int(11) NOT NULL COMMENT 'ÍNDICE PARA DETERMINAR EL ROL DEL USUARIO',
  `DESCRIPCION` varchar(25) DEFAULT NULL COMMENT 'SE DESCRIBE SI ES CLIENTE O ADMINISTRADOR'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Volcado de datos para la tabla `roles`
--

INSERT INTO `roles` (`ID_ROLE`, `DESCRIPCION`) VALUES
(1, 'Usuario'),
(2, 'Administrador');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `sexo`
--

CREATE TABLE `sexo` (
  `ID_SEXO` int(11) NOT NULL COMMENT 'ÍNDICE DEL POSIBLE SEXO DEL USUARIO',
  `NOMBRE` varchar(10) DEFAULT NULL COMMENT 'SE DETERMINA SI EL USUARIO ES HOMBRE O MUJER'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Volcado de datos para la tabla `sexo`
--

INSERT INTO `sexo` (`ID_SEXO`, `NOMBRE`) VALUES
(1, 'Masculino'),
(2, 'Femenino');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `tipo_auto`
--

CREATE TABLE `tipo_auto` (
  `ID_TIPOAUTO` int(11) NOT NULL COMMENT 'CAMPO USADO COMO LLAVE PRIMARIA',
  `DESCRIPCION` varchar(45) DEFAULT NULL COMMENT 'CAMPO USADO PARA GUARDAR LA DESCRIPCION DEL TIPO DE AUTO'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Volcado de datos para la tabla `tipo_auto`
--

INSERT INTO `tipo_auto` (`ID_TIPOAUTO`, `DESCRIPCION`) VALUES
(1, 'Pick Up'),
(2, 'Deportivos'),
(3, 'Turismo'),
(4, 'Camioneta');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `usoauto`
--

CREATE TABLE `usoauto` (
  `ID_USOAUTO` int(11) NOT NULL COMMENT 'CAMPO USADO COMO LLAVE PRIMARIA',
  `DESCRIPCION` varchar(30) DEFAULT NULL COMMENT 'CAMPO USADO PARA GUARDAR LA DESCRIPCION DEL USOAUTO'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Volcado de datos para la tabla `usoauto`
--

INSERT INTO `usoauto` (`ID_USOAUTO`, `DESCRIPCION`) VALUES
(1, 'Nuevo'),
(2, 'Usado');

-- --------------------------------------------------------

--
-- Estructura de tabla para la tabla `ventas`
--

CREATE TABLE `ventas` (
  `ID_VENTAS` int(11) NOT NULL COMMENT 'ÍNDICE DE LA TABLA VENTAS',
  `SUBTOTAL` double DEFAULT NULL COMMENT 'TABLA PARA MOSTRAR EL PRECIO DE VENTA SIN EL IMPUESTO',
  `ISV` double DEFAULT NULL COMMENT 'TABLA PARA MOSTRAR EL IMPUESTO',
  `TOTAL` double DEFAULT NULL COMMENT 'SE MUESTRA LA SUMA ENTRE EL SUBTOTAL Y EL IMPUESTO',
  `ID_PERSONA` int(11) DEFAULT NULL COMMENT 'RELACIÓN PARA IDENTIFICAR LA PERSONA A LA QUE SE VENDE'
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Volcado de datos para la tabla `ventas`
--

INSERT INTO `ventas` (`ID_VENTAS`, `SUBTOTAL`, `ISV`, `TOTAL`, `ID_PERSONA`) VALUES
(1, 100000, 15000, 115000, 1);

--
-- Índices para tablas volcadas
--

--
-- Indices de la tabla `auto`
--
ALTER TABLE `auto`
  ADD PRIMARY KEY (`ID_AUTO`),
  ADD UNIQUE KEY `NUMERO_CHASIS` (`NUMERO_CHASIS`,`MOTOR_SERIE`),
  ADD KEY `ID_COLORAUTO` (`ID_COLORAUTO`,`ID_TIPOAUTO`,`ID_MODELO`,`ID_MARCA`,`ID_USOAUTO`),
  ADD KEY `AUTO_TIPO` (`ID_TIPOAUTO`),
  ADD KEY `AUTO_MARCA` (`ID_MARCA`),
  ADD KEY `AUTO_MODELO` (`ID_MODELO`),
  ADD KEY `AUTO_USO` (`ID_USOAUTO`);

--
-- Indices de la tabla `colorauto`
--
ALTER TABLE `colorauto`
  ADD PRIMARY KEY (`ID_COLORAUTO`);

--
-- Indices de la tabla `compras`
--
ALTER TABLE `compras`
  ADD PRIMARY KEY (`ID_COMPRAS`,`ID_AUTO`),
  ADD KEY `ID_AUTO` (`ID_AUTO`,`ID_PROVEEDOR`),
  ADD KEY `COMPRAS_PROVEEDOR` (`ID_PROVEEDOR`);

--
-- Indices de la tabla `detallefactura`
--
ALTER TABLE `detallefactura`
  ADD PRIMARY KEY (`ID_DETALLEFACTURA`,`ID_AUTO`,`ID_VENTAS`),
  ADD KEY `ID_AUTO` (`ID_AUTO`,`ID_VENTAS`),
  ADD KEY `DETALLE_VENTAS` (`ID_VENTAS`);

--
-- Indices de la tabla `estadocivil`
--
ALTER TABLE `estadocivil`
  ADD PRIMARY KEY (`ID_ESTADOCIVIL`);

--
-- Indices de la tabla `inventario`
--
ALTER TABLE `inventario`
  ADD PRIMARY KEY (`ID_AUTO`,`ID_VENTAS`),
  ADD KEY `ID_AUTO` (`ID_AUTO`,`ID_COMPRAS`,`ID_VENTAS`),
  ADD KEY `INVENTARIO_VENTAS` (`ID_VENTAS`),
  ADD KEY `INVENTARIO_COMPRAS` (`ID_COMPRAS`);

--
-- Indices de la tabla `marca`
--
ALTER TABLE `marca`
  ADD PRIMARY KEY (`ID_MARCA`);

--
-- Indices de la tabla `modelo`
--
ALTER TABLE `modelo`
  ADD PRIMARY KEY (`ID_MODELO`),
  ADD KEY `ID_MARCA` (`ID_MARCA`);

--
-- Indices de la tabla `persona`
--
ALTER TABLE `persona`
  ADD PRIMARY KEY (`ID_PERSONA`,`ID_ROL`),
  ADD UNIQUE KEY `CORREO` (`CORREO`),
  ADD KEY `ID_ESTADOCIVIL` (`ID_ESTADOCIVIL`,`ID_SEXO`,`ID_ROL`),
  ADD KEY `ID_SEXO_FK` (`ID_SEXO`),
  ADD KEY `ID_ROL_FK` (`ID_ROL`);

--
-- Indices de la tabla `proveedor`
--
ALTER TABLE `proveedor`
  ADD PRIMARY KEY (`ID_PROVEEDOR`);

--
-- Indices de la tabla `proveedor_auto`
--
ALTER TABLE `proveedor_auto`
  ADD PRIMARY KEY (`ID_PROVEEDOR`,`ID_AUTO`),
  ADD KEY `ID_PROVEEDOR` (`ID_PROVEEDOR`,`ID_AUTO`),
  ADD KEY `PROVEEDOR_AUTO` (`ID_AUTO`);

--
-- Indices de la tabla `roles`
--
ALTER TABLE `roles`
  ADD PRIMARY KEY (`ID_ROLE`);

--
-- Indices de la tabla `sexo`
--
ALTER TABLE `sexo`
  ADD PRIMARY KEY (`ID_SEXO`);

--
-- Indices de la tabla `tipo_auto`
--
ALTER TABLE `tipo_auto`
  ADD PRIMARY KEY (`ID_TIPOAUTO`);

--
-- Indices de la tabla `usoauto`
--
ALTER TABLE `usoauto`
  ADD PRIMARY KEY (`ID_USOAUTO`);

--
-- Indices de la tabla `ventas`
--
ALTER TABLE `ventas`
  ADD PRIMARY KEY (`ID_VENTAS`),
  ADD KEY `ID_PERSONA` (`ID_PERSONA`);

--
-- AUTO_INCREMENT de las tablas volcadas
--

--
-- AUTO_INCREMENT de la tabla `auto`
--
ALTER TABLE `auto`
  MODIFY `ID_AUTO` int(11) NOT NULL AUTO_INCREMENT COMMENT 'CAMPO USADO COMO LLAVE PRIMARIA', AUTO_INCREMENT=4;

--
-- AUTO_INCREMENT de la tabla `colorauto`
--
ALTER TABLE `colorauto`
  MODIFY `ID_COLORAUTO` int(11) NOT NULL AUTO_INCREMENT COMMENT 'CAMPO USADO COMO LLAVE PRIMARIA', AUTO_INCREMENT=11;

--
-- AUTO_INCREMENT de la tabla `compras`
--
ALTER TABLE `compras`
  MODIFY `ID_COMPRAS` int(11) NOT NULL AUTO_INCREMENT COMMENT 'CAMPO USADO COMO LLAVE PRIMARIA', AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT de la tabla `detallefactura`
--
ALTER TABLE `detallefactura`
  MODIFY `ID_DETALLEFACTURA` int(11) NOT NULL AUTO_INCREMENT COMMENT 'ÍNDICE DE LA TABLA DETALLE FACTURA', AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT de la tabla `estadocivil`
--
ALTER TABLE `estadocivil`
  MODIFY `ID_ESTADOCIVIL` int(11) NOT NULL AUTO_INCREMENT COMMENT 'ÍNDICE DEL ESTADO CIVIL DEL USUARIO', AUTO_INCREMENT=5;

--
-- AUTO_INCREMENT de la tabla `inventario`
--
ALTER TABLE `inventario`
  MODIFY `ID_AUTO` int(11) NOT NULL AUTO_INCREMENT COMMENT 'CAMPO USADO COMO LLAVE PRIMARIA Y LLAVE FORANEA DE LA TABLA AUTO', AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT de la tabla `marca`
--
ALTER TABLE `marca`
  MODIFY `ID_MARCA` int(11) NOT NULL AUTO_INCREMENT COMMENT 'CAMPO USADO COMO LLAVE PRIMARIA', AUTO_INCREMENT=27;

--
-- AUTO_INCREMENT de la tabla `modelo`
--
ALTER TABLE `modelo`
  MODIFY `ID_MODELO` int(11) NOT NULL AUTO_INCREMENT COMMENT 'CAMPO USADO COMO LLAVE PRIMARIA', AUTO_INCREMENT=32;

--
-- AUTO_INCREMENT de la tabla `persona`
--
ALTER TABLE `persona`
  MODIFY `ID_PERSONA` int(11) NOT NULL AUTO_INCREMENT COMMENT 'INDICE DE LA TABLA PERSONA', AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT de la tabla `proveedor`
--
ALTER TABLE `proveedor`
  MODIFY `ID_PROVEEDOR` int(11) NOT NULL AUTO_INCREMENT COMMENT 'CAMPO USADO COMO LLAVE PRIMARIA', AUTO_INCREMENT=2;

--
-- AUTO_INCREMENT de la tabla `roles`
--
ALTER TABLE `roles`
  MODIFY `ID_ROLE` int(11) NOT NULL AUTO_INCREMENT COMMENT 'ÍNDICE PARA DETERMINAR EL ROL DEL USUARIO', AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT de la tabla `sexo`
--
ALTER TABLE `sexo`
  MODIFY `ID_SEXO` int(11) NOT NULL AUTO_INCREMENT COMMENT 'ÍNDICE DEL POSIBLE SEXO DEL USUARIO', AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT de la tabla `tipo_auto`
--
ALTER TABLE `tipo_auto`
  MODIFY `ID_TIPOAUTO` int(11) NOT NULL AUTO_INCREMENT COMMENT 'CAMPO USADO COMO LLAVE PRIMARIA', AUTO_INCREMENT=5;

--
-- AUTO_INCREMENT de la tabla `usoauto`
--
ALTER TABLE `usoauto`
  MODIFY `ID_USOAUTO` int(11) NOT NULL AUTO_INCREMENT COMMENT 'CAMPO USADO COMO LLAVE PRIMARIA', AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT de la tabla `ventas`
--
ALTER TABLE `ventas`
  MODIFY `ID_VENTAS` int(11) NOT NULL AUTO_INCREMENT COMMENT 'ÍNDICE DE LA TABLA VENTAS', AUTO_INCREMENT=2;

--
-- Restricciones para tablas volcadas
--

--
-- Filtros para la tabla `auto`
--
ALTER TABLE `auto`
  ADD CONSTRAINT `AUTO_COLOR` FOREIGN KEY (`ID_COLORAUTO`) REFERENCES `colorauto` (`ID_COLORAUTO`) ON DELETE NO ACTION ON UPDATE CASCADE,
  ADD CONSTRAINT `AUTO_MARCA` FOREIGN KEY (`ID_MARCA`) REFERENCES `marca` (`ID_MARCA`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `AUTO_MODELO` FOREIGN KEY (`ID_MODELO`) REFERENCES `modelo` (`ID_MODELO`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `AUTO_TIPO` FOREIGN KEY (`ID_TIPOAUTO`) REFERENCES `tipo_auto` (`ID_TIPOAUTO`) ON DELETE NO ACTION ON UPDATE CASCADE,
  ADD CONSTRAINT `AUTO_USO` FOREIGN KEY (`ID_USOAUTO`) REFERENCES `usoauto` (`ID_USOAUTO`) ON DELETE NO ACTION ON UPDATE CASCADE;

--
-- Filtros para la tabla `compras`
--
ALTER TABLE `compras`
  ADD CONSTRAINT `COMPRAS_AUTO` FOREIGN KEY (`ID_AUTO`) REFERENCES `auto` (`ID_AUTO`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `COMPRAS_PROVEEDOR` FOREIGN KEY (`ID_PROVEEDOR`) REFERENCES `proveedor` (`ID_PROVEEDOR`) ON DELETE NO ACTION ON UPDATE CASCADE;

--
-- Filtros para la tabla `detallefactura`
--
ALTER TABLE `detallefactura`
  ADD CONSTRAINT `DETALLE_AUTO` FOREIGN KEY (`ID_AUTO`) REFERENCES `auto` (`ID_AUTO`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `DETALLE_VENTAS` FOREIGN KEY (`ID_VENTAS`) REFERENCES `ventas` (`ID_VENTAS`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Filtros para la tabla `inventario`
--
ALTER TABLE `inventario`
  ADD CONSTRAINT `INVENTARIO_AUTO` FOREIGN KEY (`ID_AUTO`) REFERENCES `auto` (`ID_AUTO`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `INVENTARIO_COMPRAS` FOREIGN KEY (`ID_COMPRAS`) REFERENCES `compras` (`ID_COMPRAS`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `INVENTARIO_VENTAS` FOREIGN KEY (`ID_VENTAS`) REFERENCES `ventas` (`ID_VENTAS`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Filtros para la tabla `modelo`
--
ALTER TABLE `modelo`
  ADD CONSTRAINT `MODELO_MARCA` FOREIGN KEY (`ID_MARCA`) REFERENCES `marca` (`ID_MARCA`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Filtros para la tabla `persona`
--
ALTER TABLE `persona`
  ADD CONSTRAINT `ID_ESTADOCIVIL_FK` FOREIGN KEY (`ID_ESTADOCIVIL`) REFERENCES `estadocivil` (`ID_ESTADOCIVIL`) ON DELETE NO ACTION ON UPDATE CASCADE,
  ADD CONSTRAINT `ID_ROL_FK` FOREIGN KEY (`ID_ROL`) REFERENCES `roles` (`ID_ROLE`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `ID_SEXO_FK` FOREIGN KEY (`ID_SEXO`) REFERENCES `sexo` (`ID_SEXO`) ON DELETE NO ACTION ON UPDATE CASCADE;

--
-- Filtros para la tabla `proveedor_auto`
--
ALTER TABLE `proveedor_auto`
  ADD CONSTRAINT `PROVEEDOR_AUTO` FOREIGN KEY (`ID_AUTO`) REFERENCES `auto` (`ID_AUTO`) ON DELETE NO ACTION ON UPDATE CASCADE,
  ADD CONSTRAINT `PROVEEDOR_PROVEEDOR` FOREIGN KEY (`ID_PROVEEDOR`) REFERENCES `proveedor` (`ID_PROVEEDOR`) ON DELETE CASCADE ON UPDATE CASCADE;

--
-- Filtros para la tabla `ventas`
--
ALTER TABLE `ventas`
  ADD CONSTRAINT `VENTA_PERSONA` FOREIGN KEY (`ID_PERSONA`) REFERENCES `persona` (`ID_PERSONA`) ON DELETE NO ACTION ON UPDATE CASCADE;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
